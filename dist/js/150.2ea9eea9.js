"use strict";(self["webpackChunkbig_screen"]=self["webpackChunkbig_screen"]||[]).push([[150],{7150:function(t,a,e){e.r(a),e.d(a,{default:function(){return I}});var l=e(6768),n=e(5130);const i={class:"container"},s={class:"filter"},o={class:"tableBox"},r={class:"paginationBox"};function d(t,a,e,d,u,c){const p=(0,l.g2)("el-table-column"),h=(0,l.g2)("el-button"),b=(0,l.g2)("el-table"),m=(0,l.g2)("el-pagination"),D=(0,l.g2)("add-equipment-view");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",s,[(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[a[7]||(a[7]=(0,l.Lk)("span",{class:"label"},"出厂编号",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>u.filterData.factoryId=t),placeholder:"请输入",class:"inp"},null,512),[[n.Jo,u.filterData.factoryId]])]),(0,l.Lk)("li",null,[(0,l.Lk)("button",{class:"btn",onClick:a[1]||(a[1]=t=>c.handleQuery())},"查询"),(0,l.Lk)("button",{class:"btn",onClick:a[2]||(a[2]=t=>c.handleQuery(1))},"一个月"),(0,l.Lk)("button",{class:"btn",onClick:a[3]||(a[3]=t=>c.handleQuery(2))},"两个月"),(0,l.Lk)("button",{class:"btn",onClick:a[4]||(a[4]=t=>c.handleQuery(0))},"已到期"),(0,l.Lk)("button",{class:"btn",onClick:a[5]||(a[5]=(...t)=>c.handleReset&&c.handleReset(...t))},"重置")])])]),(0,l.Lk)("div",o,[(0,l.bF)(b,{data:u.tableData,style:{width:"100%"}},{default:(0,l.k6)((()=>[(0,l.bF)(p,{type:"index",align:"center",label:"序号","show-overflow-tooltip":""}),(0,l.bF)(p,{prop:"factoryId",align:"center",label:"设备出厂编号","show-overflow-tooltip":""}),(0,l.bF)(p,{prop:"factoryDate",align:"center",label:"设备起始日","show-overflow-tooltip":""}),(0,l.bF)(p,{prop:"warrantyDate",align:"center",label:"质保到期日","show-overflow-tooltip":""}),(0,l.bF)(p,{prop:"warrantySpan",align:"center",label:"质保期","show-overflow-tooltip":""}),(0,l.bF)(p,{prop:"factoryId",align:"center",label:"设备ID","show-overflow-tooltip":""}),(0,l.bF)(p,{prop:"address",align:"center",label:"操作"},{default:(0,l.k6)((t=>[(0,l.bF)(h,{onClick:a=>c.handleEdit(t.row),type:"text",size:"small"},{default:(0,l.k6)((()=>a[8]||(a[8]=[(0,l.eW)("编辑 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),(0,l.Lk)("div",r,[(0,l.bF)(m,{onSizeChange:c.handleSizeChange,onCurrentChange:c.handleCurrentChange,"current-page":u.filterData.pn,total:u.filterData.total,background:"",layout:"total, prev, pager, next"},null,8,["onSizeChange","onCurrentChange","current-page","total"])]),u.showAdd?((0,l.uX)(),(0,l.Wv)(D,{key:0,onDoSubmit:a[6]||(a[6]=a=>c.closeDialog(t.idx)),updateData:u.updateData},null,8,["updateData"])):(0,l.Q3)("",!0)])}const u={class:"addEquipment"},c={class:"addBox"},p={class:"formData"},h={class:"datePick"},b={class:"datePick"},m={class:"btns"};function D(t,a,e,i,s,o){const r=(0,l.g2)("el-date-picker");return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("div",c,[a[12]||(a[12]=(0,l.Lk)("h3",{class:"title"},"新增质保设备",-1)),(0,l.Lk)("div",p,[(0,l.Lk)("ul",null,[(0,l.Lk)("li",null,[a[7]||(a[7]=(0,l.Lk)("div",{class:"label"},"设备出厂编号：",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>s.submitData.factoryId=t),name:"",id:"",class:"inp",placeholder:"请输入"},null,512),[[n.Jo,s.submitData.factoryId]])]),(0,l.Lk)("li",null,[a[8]||(a[8]=(0,l.Lk)("div",{class:"label"},"设备ID：",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",name:"","onUpdate:modelValue":a[1]||(a[1]=t=>s.submitData.id=t),id:"",class:"inp",placeholder:"请输入"},null,512),[[n.Jo,s.submitData.id]])]),(0,l.Lk)("li",null,[a[9]||(a[9]=(0,l.Lk)("div",{class:"label"},"设备起始日：",-1)),(0,l.Lk)("div",h,[(0,l.bF)(r,{modelValue:s.submitData.factoryDate,"onUpdate:modelValue":a[2]||(a[2]=t=>s.submitData.factoryDate=t),type:"datetime","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":t.defaultTime1},null,8,["modelValue","default-time"])])]),(0,l.Lk)("li",null,[a[10]||(a[10]=(0,l.Lk)("div",{class:"label"},"设备到期日：",-1)),(0,l.Lk)("div",b,[(0,l.bF)(r,{modelValue:s.submitData.warrantyDate,"onUpdate:modelValue":a[3]||(a[3]=t=>s.submitData.warrantyDate=t),type:"datetime",placeholder:"选择日期时间"},null,8,["modelValue"])])]),(0,l.Lk)("li",null,[a[11]||(a[11]=(0,l.Lk)("div",{class:"label"},"质保期：",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>s.submitData.warrantySpan=t),name:"",id:"",class:"inp",placeholder:"请输入"},null,512),[[n.Jo,s.submitData.warrantySpan]])])])]),(0,l.Lk)("div",m,[(0,l.Lk)("div",{class:"btn",onClick:a[5]||(a[5]=t=>o.doSubmit(1))},"取消"),(0,l.Lk)("div",{class:"btn",onClick:a[6]||(a[6]=t=>o.doSubmit(2))},"完成")])])])}var k=e(1184);const f=t=>k.A.get("/monitor/infoWarranty",{params:t}),g=t=>k.A.post("/monitor/warrantyUpdate",t);var y={props:["updateData"],data(){return{submitData:{id:"",factoryId:"",factoryDate:"",warrantyDate:"",warrantySpan:""}}},mounted(){console.log(this.updateData),this.submitData=Object.assign(this.submitData,this.updateData)},methods:{doSubmit(t){if(1==t)return this.$emit("doSubmit",t),void this.reset();g(this.submitData).then((a=>{200==a.code?(this.$message({message:"操作成功",type:"success"}),this.reset(),this.$emit("doSubmit",t)):this.$message({message:"操作失败",type:"warning"})}))},reset(){this.submitData={id:"",factoryId:"",factoryDate:"",warrantyDate:"",warrantySpan:""}}}},L=e(1241);const w=(0,L.A)(y,[["render",D],["__scopeId","data-v-70ee3a6c"]]);var v=w,C={components:{addEquipmentView:v},data(){return{value1:"",region:"",showAdd:!1,tableData:[],filterData:{pn:1,size:10,total:0,factoryId:"",warrantyStatus:""},updateData:{}}},mounted(){this.getList()},methods:{getList(){f(this.filterData).then((t=>{200==t.code?(this.tableData=t.data.records,this.filterData.total=t.data.total,this.filterData.pn=t.data.current):(this.$message({message:"获取数据失败",type:"warning"}),this.tableData=[],this.filterData.total=0,this.filterData.pn=1)}))},handleQuery(t){this.filterData.warrantyStatus=t,this.getList()},handleReset(){this.filterData.factoryId="",this.handleQuery()},onSubmit(){console.log("submit!")},handleSizeChange(t){console.log(`每页 ${t} 条`)},handleCurrentChange(t){this.filterData.pn=t,this.getList()},handleEdit(t){this.updateData=t,this.showAdd=!0},closeDialog(t){console.log(t,111),this.showAdd=!1,this.filterData.pn=1,this.filterData.size=10,this.getList()}}};const S=(0,L.A)(C,[["render",d],["__scopeId","data-v-6578fd0a"]]);var I=S}}]);
//# sourceMappingURL=150.2ea9eea9.js.map