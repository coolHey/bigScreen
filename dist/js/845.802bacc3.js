"use strict";(self["webpackChunkbig_screen"]=self["webpackChunkbig_screen"]||[]).push([[845],{9120:function(t,a,e){e.d(a,{BZ:function(){return d},Be:function(){return r},Ch:function(){return n},hK:function(){return o},kW:function(){return l},mg:function(){return c},rP:function(){return s},sx:function(){return u}});var i=e(1184);const n=t=>i.A.get("/sold/soldPage",{params:t}),s=t=>i.A.get("/sold/detailPage",{params:t}),o=t=>i.A.post("/sold/detailAdd",t),l=t=>i.A.get("/maintain/maintainPage",{params:t}),d=t=>i.A.get(`/maintain/maintainContent/${t}`),r=t=>i.A.post("/maintain/maintainUpdate",t),u=t=>i.A.get("/fault/faultPage",{params:t}),c=t=>i.A.post("/fault/faultUpdate",t)},2845:function(t,a,e){e.r(a),e.d(a,{default:function(){return w}});var i=e(6768);const n={class:"dataAnalysis"},s={class:"filter"},o={class:"tableBox"},l={class:"paginationBox"};function d(t,a,e,d,r,u){const c=(0,i.g2)("el-table-column"),p=(0,i.g2)("el-table"),m=(0,i.g2)("el-pagination"),h=(0,i.g2)("AddService");return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",s,[(0,i.Lk)("div",{class:"addBtn",onClick:a[0]||(a[0]=(...t)=>u.addItem&&u.addItem(...t))},"新增")]),(0,i.Lk)("div",o,[(0,i.bF)(p,{data:r.tableData,style:{width:"100%"}},{default:(0,i.k6)((()=>[(0,i.bF)(c,{prop:"monitorId",align:"center",label:"设备ID","show-overflow-tooltip":""}),(0,i.bF)(c,{prop:"repairer",align:"center",label:"维修人员","show-overflow-tooltip":""}),(0,i.bF)(c,{prop:"soldTime",align:"center",label:"维修时间","show-overflow-tooltip":""}),(0,i.bF)(c,{prop:"soldContent",align:"center",label:"维修内容","show-overflow-tooltip":""})])),_:1},8,["data"])]),(0,i.Lk)("div",l,[(0,i.bF)(m,{onSizeChange:u.handleSizeChange,onCurrentChange:u.handleCurrentChange,total:r.total,"current-page":r.pagination.pn,"page-size":r.pagination.size,background:"",layout:"total, prev, pager, next"},null,8,["onSizeChange","onCurrentChange","total","current-page","page-size"])]),r.showEdit?((0,i.uX)(),(0,i.Wv)(h,{key:0,onDoSubmit:a[1]||(a[1]=t=>r.showEdit=!1&u.getData())})):(0,i.Q3)("",!0)])}var r=e(9120),u=e(5130);const c={class:"editCustomer"},p={class:"addBox"},m={class:"formData"},h={class:"datePick"},b={class:"btns"};function g(t,a,e,n,s,o){const l=(0,i.g2)("el-date-picker");return(0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("div",p,[a[10]||(a[10]=(0,i.Lk)("h3",{class:"title"},"新增售后",-1)),(0,i.Lk)("div",m,[(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,[a[6]||(a[6]=(0,i.Lk)("div",{class:"label"},"设备ID：",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>s.submitData.monitorId=t),name:"",id:"",class:"inp",disabled:"",placeholder:"请输入"},null,512),[[u.Jo,s.submitData.monitorId]])]),(0,i.Lk)("li",null,[a[7]||(a[7]=(0,i.Lk)("div",{class:"label"},"维修人员：",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",name:"","onUpdate:modelValue":a[1]||(a[1]=t=>s.submitData.repairer=t),id:"",class:"inp",placeholder:"请输入"},null,512),[[u.Jo,s.submitData.repairer]])]),(0,i.Lk)("li",null,[a[8]||(a[8]=(0,i.Lk)("div",{class:"label"},"维修时间：",-1)),(0,i.Lk)("div",h,[(0,i.bF)(l,{modelValue:s.submitData.soldTime,"onUpdate:modelValue":a[2]||(a[2]=t=>s.submitData.soldTime=t),type:"datetime",placeholder:"选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])])]),(0,i.Lk)("li",null,[a[9]||(a[9]=(0,i.Lk)("div",{class:"label"},"维修内容：",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",name:"","onUpdate:modelValue":a[3]||(a[3]=t=>s.submitData.contactPhone=t),id:"",class:"inp",placeholder:"请输入"},null,512),[[u.Jo,s.submitData.contactPhone]])])])]),(0,i.Lk)("div",b,[(0,i.Lk)("div",{class:"btn",onClick:a[4]||(a[4]=t=>o.doSubmit(1))},"取消"),(0,i.Lk)("div",{class:"btn",onClick:a[5]||(a[5]=t=>o.doSubmit(2))},"完成")])])])}e(8992),e(3949);var k={props:["updateData","isAdd"],data(){return{submitData:{monitorId:this.$route.query.monitorId,repairer:"",soldTime:"",contactPhone:""}}},mounted(){console.log(this.updateData),this.submitData=Object.assign(this.submitData,this.updateData)},methods:{async doSubmit(t){if(1==t)return this.$emit("doSubmit"),void this.reset();const a=await(0,r.hK)(this.submitData);200==a.code?(this.$message({message:"操作成功",type:"success"}),this.reset(),this.$emit("doSubmit")):this.$message({message:"操作失败",type:"warning"})},reset(){this.submitData=Object.keys(this.submitData).forEach((t=>{this.submitData[t]=""}))}}},v=e(1241);const f=(0,v.A)(k,[["render",g],["__scopeId","data-v-667ef1af"]]);var D=f,C={components:{AddService:D},data(){return{tableData:[],pagination:{pn:1,size:10},total:0,showEdit:!1}},mounted(){this.getData()},methods:{async getData(){const t=await(0,r.rP)({...this.pagination,monitorId:this.$route.query.monitorId});200===t.code&&(this.tableData=t.data.records,this.total=t.data.total)},async addItem(){this.showEdit=!0},handleSizeChange(t){this.pagination.size=t,this.getData()},handleCurrentChange(t){this.pagination.pn=t,this.getData()}}};const L=(0,v.A)(C,[["render",d],["__scopeId","data-v-07679573"]]);var w=L}}]);
//# sourceMappingURL=845.802bacc3.js.map