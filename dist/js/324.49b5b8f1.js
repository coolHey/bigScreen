"use strict";(self["webpackChunkbig_screen"]=self["webpackChunkbig_screen"]||[]).push([[324],{360:function(t,a,e){e.d(a,{Qh:function(){return i},Uo:function(){return r},Xw:function(){return l},bc:function(){return s}});var n=e(1184);const l=(t,a)=>n.A.get("/data/lineData/"+t,{params:a}),i=(t,a)=>n.A.get("/data/autoData/"+t.id,{params:a}),s=(t,a)=>n.A.get("/data/lineOne/"+t.id,{params:a}),r=t=>n.A.post("/data/compareData",t)},4324:function(t,a,e){e.r(a),e.d(a,{default:function(){return G}});var n=e(6768),l=e(5130);const i={class:"container"},s={class:"filter"},r={class:"datePick"},d={class:"main"};function u(t,a,e,u,c,o){const k=(0,n.g2)("el-date-picker"),p=(0,n.g2)("left-view"),h=(0,n.g2)("content-view"),L=(0,n.g2)("right-view");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",s,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[3]||(a[3]=(0,n.Lk)("span",{class:"label"},"设备ID：",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>c.deviceId=t),placeholder:"请输入",class:"inp"},null,512),[[l.Jo,c.deviceId]])]),(0,n.Lk)("li",null,[a[4]||(a[4]=(0,n.Lk)("span",{class:"label"},"质保日前：",-1)),(0,n.Lk)("div",r,[(0,n.bF)(k,{modelValue:c.time,"onUpdate:modelValue":a[1]||(a[1]=t=>c.time=t),"value-format":"YYYY-MM-DD HH:mm:ss",type:"datetimerange",placeholder:"选择日期时间"},null,8,["modelValue"])])]),(0,n.Lk)("li",null,[(0,n.Lk)("div",{class:"addBtn",onClick:a[2]||(a[2]=(...t)=>o.handleQuery&&o.handleQuery(...t))},"查询")])])]),(0,n.Lk)("div",d,[(0,n.bF)(p,{data:c.detailData},null,8,["data"]),(0,n.bF)(h,{data:c.compareData,onGetRightData:o.getRightData},null,8,["data","onGetRightData"]),(0,n.bF)(L,{data:c.currentData||{},time:c.currentDateTime},null,8,["data","time"])])])}var c=e(4232);const o={class:"leftView"},k={class:"title"},p={class:"content3 content"},h={class:"content2 content"},L={class:"content3 content"},m={class:"content2 content"};function v(t,a,e,l,i,s){return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("div",k,[a[0]||(a[0]=(0,n.Lk)("span",null,"干燥机参数",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.createTime),1)]),(0,n.Lk)("div",p,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[1]||(a[1]=(0,n.Lk)("span",null,"运行模式",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d1||"-"),1)]),(0,n.Lk)("li",null,[a[2]||(a[2]=(0,n.Lk)("span",null,"运行速度",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d2||"-"),1)]),(0,n.Lk)("li",null,[a[3]||(a[3]=(0,n.Lk)("span",null,"主机频率",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d3||"-"),1)])])]),(0,n.Lk)("div",h,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[4]||(a[4]=(0,n.Lk)("span",null,"主机电流",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d4||"-"),1)]),(0,n.Lk)("li",null,[a[5]||(a[5]=(0,n.Lk)("span",null,"含氧量",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d5||"-"),1)])])]),(0,n.Lk)("div",L,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[6]||(a[6]=(0,n.Lk)("span",null,"振动值",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d6||"-"),1)]),(0,n.Lk)("li",null,[a[7]||(a[7]=(0,n.Lk)("span",null,"主机转速",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d7||"-"),1)]),(0,n.Lk)("li",null,[a[8]||(a[8]=(0,n.Lk)("span",null,"布料频率",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.frequency||"-"),1)])])]),(0,n.Lk)("div",m,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[9]||(a[9]=(0,n.Lk)("span",null,"布料电流",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.electricity||"-"),1)]),(0,n.Lk)("li",null,[a[10]||(a[10]=(0,n.Lk)("span",null,"布料振动值",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.vibration||"-"),1)])])])])}var g={props:{data:{type:Object,default:()=>{}}}},y=e(1241);const D=(0,y.A)(g,[["render",v],["__scopeId","data-v-1c7ba4cc"]]);var f=D;const _={class:"contentView"},b={class:"chart1 chart",ref:"chart1"},C={class:"chart2 chart",ref:"chart2"},I={class:"chart2 chart",ref:"chart3"};function w(t,a,e,l,i,s){return(0,n.uX)(),(0,n.CE)("div",_,[(0,n.Lk)("div",b,null,512),(0,n.Lk)("div",C,null,512),(0,n.Lk)("div",I,null,512)])}e(1454);var S=e(7241),T=e(360),A={props:{data:{type:Object,default:()=>{}}},data(){return{myChart1:null,myChart2:null,myChart3:null}},watch:{data:{handler(){if(!this.data?.[0]?.length)return;console.log(this.data);const t=(this.data?.[0]||[]).map((t=>t.createTime)),a=(this.data?.[0]||[]).map((t=>t.frequency)),e=(this.data?.[0]||[]).map((t=>t.electricity)),n=(this.data?.[0]||[]).map((t=>t.vibration));this.initChart(1,"干燥机-frequency",t,a,this.data),this.initChart(2,"干燥机-electricity",t,e,this.data),this.initChart(3,"干燥机-vibration",t,n,this.data)},deep:!0,immediate:!0}},mounted(){this.initChart(1,"干燥机-frequency"),this.initChart(2,"干燥机-electricity"),this.initChart(3,"干燥机-vibration")},methods:{initChart(t,a,e=[],n=[],l=[]){let i={tooltip:{trigger:"axis"},legend:{top:"5%",data:[a],textStyle:{color:"#D1DFE9"}},dataZoom:[{type:"inside",start:0,end:100}],grid:{left:"3%",right:"4%",bottom:"6%",top:"20%",containLabel:!0},xAxis:{type:"category",data:e,axisTick:{show:!1},axisLabel:{color:"#D1DFE9"}},yAxis:{type:"value",axisLabel:{color:"#D1DFE9"},splitLine:{show:!0,lineStyle:{type:"dashed",color:"rgba(73, 118, 169, 0.32)"}}},series:[{name:a,data:n,type:"line",smooth:!0}]};const s=S.init(this.$refs[`chart${t}`]);s.setOption(i),this[`myChart${t}`]=s;const r=this;s.on("click",(function(t){let a={type:"dryer",id:""};a.id=(l?.[0]||[])[t.dataIndex]?.id,a.id&&(0,T.bc)({id:a.id},{type:a.type}).then((t=>{200==t.code&&(console.log(t),r.$emit("getRightData",t.data)),console.log(t)}))}))}}};const x=(0,y.A)(A,[["render",w],["__scopeId","data-v-d449f918"]]);var V=x;const $={class:"leftView"},F={class:"title"},E={class:"content3 content"},q={class:"content2 content"},Q={class:"content3 content"},X={class:"content2 content"};function M(t,a,e,l,i,s){return(0,n.uX)(),(0,n.CE)("div",$,[(0,n.Lk)("div",F,[a[0]||(a[0]=(0,n.Lk)("span",null,"干燥机参数",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.time),1)]),(0,n.Lk)("div",E,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[1]||(a[1]=(0,n.Lk)("span",null,"运行模式",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d1||"-"),1)]),(0,n.Lk)("li",null,[a[2]||(a[2]=(0,n.Lk)("span",null,"运行速度",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d2||"-"),1)]),(0,n.Lk)("li",null,[a[3]||(a[3]=(0,n.Lk)("span",null,"主机频率",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d3||"-"),1)])])]),(0,n.Lk)("div",q,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[4]||(a[4]=(0,n.Lk)("span",null,"主机电流",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d4||"-"),1)]),(0,n.Lk)("li",null,[a[5]||(a[5]=(0,n.Lk)("span",null,"含氧量",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d5||"-"),1)])])]),(0,n.Lk)("div",Q,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[6]||(a[6]=(0,n.Lk)("span",null,"振动值",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d6||"-"),1)]),(0,n.Lk)("li",null,[a[7]||(a[7]=(0,n.Lk)("span",null,"主机转速",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.d7||"-"),1)]),(0,n.Lk)("li",null,[a[8]||(a[8]=(0,n.Lk)("span",null,"布料频率",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.frequency||"-"),1)])])]),(0,n.Lk)("div",X,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[a[9]||(a[9]=(0,n.Lk)("span",null,"布料电流",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.electricity||"-"),1)]),(0,n.Lk)("li",null,[a[10]||(a[10]=(0,n.Lk)("span",null,"布料振动值",-1)),(0,n.Lk)("span",null,(0,c.v_)(e.data.vibration||"-"),1)])])])])}var O={props:{data:{type:Object,default:()=>{}},time:{type:String,default:"--"}}};const R=(0,y.A)(O,[["render",M],["__scopeId","data-v-0023e484"]]);var U=R,Y=e(1219),j={components:{leftView:f,contentView:V,rightView:U},data(){return{region:"",showAdd:!1,deviceId:"monitor_2",currentDateTime:"",detailData:{},lineData:{},compareData:{},currentData:null,timer:null,time:""}},mounted(){this.getCurrentDateTime(),this.handleQuery(),this.getInfoData(),this.getComData(),this.timer=setInterval((()=>{this.getInfoData()}),5e3)},methods:{getRightData(t){console.log(1233),this.currentData=t},getInfoData(){(0,T.Qh)({id:this.deviceId},{type:"dryer"}).then((t=>{200==t.code?this.detailData=t.data:Y.nk.error(t.message)}))},getData(t,a,e){(0,T.Xw)(this.deviceId,{type:"dryer",beginTime:t,endTime:a}).then((t=>{200==t.code?t.data&&(this[e]=t.data.length&&t.data):Y.nk.error(t.message)}))},async getComData(){if(this.deviceId&&Array.isArray(this.time)){const t=await(0,T.Uo)([{monitorId:this.deviceId,beginTime:this.time[0],endTime:this.time[1],type:"dryer",keyWords:["frequency","electricity","vibration"]}]);200==t.code?this.compareData=t.data:Y.nk.error(t.message)}},getCurrentDateTime(){const t=new Date,a=t.getFullYear(),e=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),l=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0"),s=t.getSeconds().toString().padStart(2,"0");this.currentDateTime=`${a}-${e}-${n} ${l}:${i}:${s}`,this.getData(this.currentDateTime,this.currentDateTime,"currentData")},handleQuery(){this.time.length&&(this.getData(this.time[0],this.time[1],"lineData"),this.getComData())}},beforeUnmount(){this.timer&&(clearInterval(this.timer),this.timer=null)},beforeMount(){this.timer&&(clearInterval(this.timer),this.timer=null)}};const H=(0,y.A)(j,[["render",u],["__scopeId","data-v-79830434"]]);var G=H}}]);
//# sourceMappingURL=324.49b5b8f1.js.map